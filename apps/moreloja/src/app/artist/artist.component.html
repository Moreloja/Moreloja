<div *ngIf="artist$ | async as artist">
  <div class="artist-title">
    <h2>{{ artist.name }}</h2>
    <div>
      <a
        href="https://musicbrainz.org/artist/{{ mbidAlbumArtist }}"
        target="_blank"
      >
        <img
          src="https://musicbrainz.org/static/images/favicons/favicon-32x32.png"
        />
      </a>
    </div>
  </div>

  <moreloja-editable-image
    [mbidArtist]="mbidAlbumArtist"
    [size]="400"
  ></moreloja-editable-image>

  <div *ngIf="artist.albums.length">
    <h3>Albums</h3>
    <div class="album-container">
      <div *ngFor="let album of artist.albums">
        <moreloja-album-card [album]="album"></moreloja-album-card>
      </div>
    </div>
  </div>

  <div *ngIf="artist.appearsOnAlbums.length">
    <h3>Appears on</h3>
    <div class="album-container">
      <div *ngFor="let album of artist.appearsOnAlbums">
        <moreloja-album-card [album]="album"></moreloja-album-card>
      </div>
    </div>
  </div>

  <div>
    <h3>Top Songs</h3>
    <div>
      <div *ngFor="let song of artist.topSongs">
        <moreloja-top-song-card
          [topSong]="song"
          [maxPlayCount]="artist.topSongs[0].playCount"
        ></moreloja-top-song-card>
      </div>
    </div>
  </div>

  <div>
    <a routerLink="/songs/artist/{{ mbidAlbumArtist }}/page/1">
      <h3>Last Songs</h3>
    </a>
    <div *ngFor="let song of artist.songs">
      <moreloja-song-card [song]="song"></moreloja-song-card>
    </div>
  </div>
</div>
